import{o as $t,a as _t,c as l,b as i,d as r,e as b,F as D,r as E,t as M,n as I,_ as at,u as ft,f as L,g as dt,w as ct,h as K,i as H,j as Bt,k as N,l as W,m as R,v as q,T as z,p as nt,q as pt,s as Vt,x as Ft,y as S,z as ht,A as Lt,B as Yt}from"./main-BxZdGOzk.js";import{u as At}from"./words-DsE0r_wO.js";function It(t){const e=n=>{var d,f,c,g;const s=document.activeElement;if(!(s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.isContentEditable)){if(n.shiftKey&&(n.key==="N"||n.key==="n"||n.key==="ы"||n.key==="Ы")&&(n.preventDefault(),n.stopPropagation(),(d=t.onNewWord)==null||d.call(t)),n.shiftKey&&n.key==="Escape"&&(n.preventDefault(),n.stopPropagation(),(f=t.onCloseModals)==null||f.call(t)),n.key==="Escape"&&!n.shiftKey&&((c=t.onCloseModals)==null||c.call(t)),(n.ctrlKey||n.metaKey)&&n.key==="f"){n.preventDefault();const p=document.querySelector('input[placeholder*="японском"]');p&&(p.focus(),p.select())}(n.ctrlKey||n.metaKey)&&n.key==="s"&&(n.preventDefault(),(g=t.onSave)==null||g.call(t))}};$t(()=>{document.addEventListener("keydown",e)}),_t(()=>{document.removeEventListener("keydown",e)})}function U(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function G(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const St=6048e5,Nt=864e5;let Ht={};function it(){return Ht}function rt(t,e){var c,g,p,o;const n=it(),s=(e==null?void 0:e.weekStartsOn)??((g=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((o=(p=n.locale)==null?void 0:p.options)==null?void 0:o.weekStartsOn)??0,a=U(t),d=a.getDay(),f=(d<s?7:0)+d-s;return a.setDate(a.getDate()-f),a.setHours(0,0,0,0),a}function st(t){return rt(t,{weekStartsOn:1})}function Ot(t){const e=U(t),n=e.getFullYear(),s=G(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=st(s),d=G(t,0);d.setFullYear(n,0,4),d.setHours(0,0,0,0);const f=st(d);return e.getTime()>=a.getTime()?n+1:e.getTime()>=f.getTime()?n:n-1}function gt(t){const e=U(t);return e.setHours(0,0,0,0),e}function xt(t){const e=U(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Rt(t,e){const n=gt(t),s=gt(e),a=+n-xt(n),d=+s-xt(s);return Math.round((a-d)/Nt)}function qt(t){const e=Ot(t),n=G(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),st(n)}function zt(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ut(t){if(!zt(t)&&typeof t!="number")return!1;const e=U(t);return!isNaN(Number(e))}function Qt(t){const e=U(t),n=G(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Xt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gt=(t,e,n)=>{let s;const a=Xt[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function lt(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Jt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},te={date:lt({formats:Jt,defaultWidth:"full"}),time:lt({formats:Kt,defaultWidth:"full"}),dateTime:lt({formats:Zt,defaultWidth:"full"})},ee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ne=(t,e,n,s)=>ee[t];function Z(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const f=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):f;a=t.formattingValues[c]||t.formattingValues[f]}else{const f=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[c]||t.values[f]}const d=t.argumentCallback?t.argumentCallback(e):e;return a[d]}}const re={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},se={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},le={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ue=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},de={ordinalNumber:ue,era:Z({values:re,defaultWidth:"wide"}),quarter:Z({values:se,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Z({values:oe,defaultWidth:"wide"}),day:Z({values:ae,defaultWidth:"wide"}),dayPeriod:Z({values:ie,defaultWidth:"wide",formattingValues:le,defaultFormattingWidth:"wide"})};function tt(t){return(e,n={})=>{const s=n.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],d=e.match(a);if(!d)return null;const f=d[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],g=Array.isArray(c)?me(c,w=>w.test(f)):ce(c,w=>w.test(f));let p;p=t.valueCallback?t.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const o=e.slice(f.length);return{value:p,rest:o}}}function ce(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function me(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fe(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],d=e.match(t.parsePattern);if(!d)return null;let f=t.valueCallback?t.valueCallback(d[0]):d[0];f=n.valueCallback?n.valueCallback(f):f;const c=e.slice(a.length);return{value:f,rest:c}}}const pe=/^(\d+)(th|st|nd|rd)?/i,he=/\d+/i,ge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xe={any:[/^b/i,/^(a|c)/i]},ve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ye={any:[/1/i,/2/i,/3/i,/4/i]},be={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},we={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},je={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Me={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$e={ordinalNumber:fe({matchPattern:pe,parsePattern:he,valueCallback:t=>parseInt(t,10)}),era:tt({matchPatterns:ge,defaultMatchWidth:"wide",parsePatterns:xe,defaultParseWidth:"any"}),quarter:tt({matchPatterns:ve,defaultMatchWidth:"wide",parsePatterns:ye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tt({matchPatterns:be,defaultMatchWidth:"wide",parsePatterns:we,defaultParseWidth:"any"}),day:tt({matchPatterns:ke,defaultMatchWidth:"wide",parsePatterns:je,defaultParseWidth:"any"}),dayPeriod:tt({matchPatterns:Me,defaultMatchWidth:"any",parsePatterns:Ce,defaultParseWidth:"any"})},_e={code:"en-US",formatDistance:Gt,formatLong:te,formatRelative:ne,localize:de,match:$e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Se(t){const e=U(t);return Rt(e,Qt(e))+1}function Oe(t){const e=U(t),n=+st(e)-+qt(e);return Math.round(n/St)+1}function Tt(t,e){var o,w,T,B;const n=U(t),s=n.getFullYear(),a=it(),d=(e==null?void 0:e.firstWeekContainsDate)??((w=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:w.firstWeekContainsDate)??a.firstWeekContainsDate??((B=(T=a.locale)==null?void 0:T.options)==null?void 0:B.firstWeekContainsDate)??1,f=G(t,0);f.setFullYear(s+1,0,d),f.setHours(0,0,0,0);const c=rt(f,e),g=G(t,0);g.setFullYear(s,0,d),g.setHours(0,0,0,0);const p=rt(g,e);return n.getTime()>=c.getTime()?s+1:n.getTime()>=p.getTime()?s:s-1}function Te(t,e){var c,g,p,o;const n=it(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((o=(p=n.locale)==null?void 0:p.options)==null?void 0:o.firstWeekContainsDate)??1,a=Tt(t,e),d=G(t,0);return d.setFullYear(a,0,s),d.setHours(0,0,0,0),rt(d,e)}function We(t,e){const n=U(t),s=+rt(n,e)-+Te(n,e);return Math.round(s/St)+1}function O(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Q={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return O(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):O(n+1,2)},d(t,e){return O(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return O(t.getHours()%12||12,e.length)},H(t,e){return O(t.getHours(),e.length)},m(t,e){return O(t.getMinutes(),e.length)},s(t,e){return O(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return O(a,e.length)}},J={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vt={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Q.y(t,e)},Y:function(t,e,n,s){const a=Tt(t,s),d=a>0?a:1-a;if(e==="YY"){const f=d%100;return O(f,2)}return e==="Yo"?n.ordinalNumber(d,{unit:"year"}):O(d,e.length)},R:function(t,e){const n=Ot(t);return O(n,e.length)},u:function(t,e){const n=t.getFullYear();return O(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return O(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return O(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Q.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return O(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const a=We(t,s);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):O(a,e.length)},I:function(t,e,n){const s=Oe(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):O(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Q.d(t,e)},D:function(t,e,n){const s=Se(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):O(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const a=t.getDay(),d=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(d);case"ee":return O(d,2);case"eo":return n.ordinalNumber(d,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const a=t.getDay(),d=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(d);case"cc":return O(d,e.length);case"co":return n.ordinalNumber(d,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return O(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let a;switch(s===12?a=J.noon:s===0?a=J.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let a;switch(s>=17?a=J.evening:s>=12?a=J.afternoon:s>=4?a=J.morning:a=J.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Q.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Q.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):O(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):O(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Q.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Q.s(t,e)},S:function(t,e){return Q.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return bt(s);case"XXXX":case"XX":return X(s);case"XXXXX":case"XXX":default:return X(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return bt(s);case"xxxx":case"xx":return X(s);case"xxxxx":case"xxx":default:return X(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yt(s,":");case"OOOO":default:return"GMT"+X(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yt(s,":");case"zzzz":default:return"GMT"+X(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return O(s,e.length)},T:function(t,e,n){const s=t.getTime();return O(s,e.length)}};function yt(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),d=s%60;return d===0?n+String(a):n+String(a)+e+O(d,2)}function bt(t,e){return t%60===0?(t>0?"-":"+")+O(Math.abs(t)/60,2):X(t,e)}function X(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=O(Math.trunc(s/60),2),d=O(s%60,2);return n+a+e+d}const wt=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Wt=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Pe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return wt(t,e);let d;switch(s){case"P":d=e.dateTime({width:"short"});break;case"PP":d=e.dateTime({width:"medium"});break;case"PPP":d=e.dateTime({width:"long"});break;case"PPPP":default:d=e.dateTime({width:"full"});break}return d.replace("{{date}}",wt(s,e)).replace("{{time}}",Wt(a,e))},De={p:Wt,P:Pe},Ee=/^D+$/,Be=/^Y+$/,Ve=["D","DD","YY","YYYY"];function Fe(t){return Ee.test(t)}function Le(t){return Be.test(t)}function Ye(t,e,n){const s=Ae(t,e,n);if(console.warn(s),Ve.includes(t))throw new RangeError(s)}function Ae(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,He=/^'([^]*?)'?$/,Re=/''/g,qe=/[a-zA-Z]/;function ze(t,e,n){var o,w,T,B;const s=it(),a=s.locale??_e,d=s.firstWeekContainsDate??((w=(o=s.locale)==null?void 0:o.options)==null?void 0:w.firstWeekContainsDate)??1,f=s.weekStartsOn??((B=(T=s.locale)==null?void 0:T.options)==null?void 0:B.weekStartsOn)??0,c=U(t);if(!Ut(c))throw new RangeError("Invalid time value");let g=e.match(Ne).map(v=>{const h=v[0];if(h==="p"||h==="P"){const $=De[h];return $(v,a.formatLong)}return v}).join("").match(Ie).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const h=v[0];if(h==="'")return{isToken:!1,value:Ue(v)};if(vt[h])return{isToken:!0,value:v};if(h.match(qe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(g=a.localize.preprocessor(c,g));const p={firstWeekContainsDate:d,weekStartsOn:f,locale:a};return g.map(v=>{if(!v.isToken)return v.value;const h=v.value;(Le(h)||Fe(h))&&Ye(h,e,String(t));const $=vt[h[0]];return $(c,h,a.localize,p)}).join("")}function Ue(t){const e=t.match(He);return e?e[1].replace(Re,"'"):t}const Qe=["data-word-id"],Xe={key:0,class:"flex items-center justify-between"},Ge={class:"flex-1 mr-4"},Je={class:"flex flex-wrap items-center gap-3 mb-1"},Ke={key:0,class:"flex flex-wrap gap-2 mt-2"},Ze={class:"flex-1 text-right"},tn={class:"flex flex-wrap justify-end gap-2 mb-2"},en={key:0,class:"flex flex-wrap justify-end gap-1.5 mt-1"},nn={key:1},rn={class:"mb-5 pb-4 border-b border-stone-100 border-dashed"},sn={class:"flex flex-wrap items-center gap-4 mb-3"},on={key:0,class:"flex flex-wrap gap-3"},an={key:0,class:"flex items-center"},ln={key:1,class:"flex items-center ml-2"},un={class:"mb-6"},dn={class:"space-y-1"},cn={key:0,class:"mb-6"},mn={class:"space-y-2"},fn={key:1,class:"mb-6"},pn={class:"space-y-2"},hn={class:"flex items-center justify-between pt-4 border-t border-stone-100"},gn={key:0,class:"flex flex-wrap gap-2"},xn={key:1,class:"text-xs text-stone-400"},vn={class:"text-xs text-stone-400"},yn={__name:"WordCard",props:{word:{type:Object,required:!0},isCompactView:{type:Boolean,default:!0}},emits:["edit","delete"],setup(t,{emit:e}){const n=t,s=e,a=()=>{s("edit",n.word)},d=()=>{s("delete",n.word.id)},f=c=>{if(!c)return"";try{return ze(new Date(c),"dd.MM.yyyy HH:mm")}catch{return c}};return(c,g)=>(i(),l("div",{class:I(["bg-surface rounded-xl border-none shadow-sm hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",t.isCompactView?"p-4":"p-6"]),"data-word-id":t.word.id},[t.isCompactView?(i(),l("div",Xe,[r("div",Ge,[r("div",Je,[(i(!0),l(D,null,E(t.word.jp,(p,o)=>(i(),l("span",{key:"jp-"+o,class:"font-jp text-xl font-medium text-text-main tracking-wide"},M(p),1))),128))]),t.word.on||t.word.kun?(i(),l("div",Ke,[(i(!0),l(D,null,E(t.word.on,(p,o)=>(i(),l("span",{key:"on-"+o,class:"font-jp text-xs px-2 py-1 bg-onyomi text-amber-900 rounded-md shadow-sm"},M(p),1))),128)),(i(!0),l(D,null,E(t.word.kun,(p,o)=>(i(),l("span",{key:"kun-"+o,class:"font-jp text-xs px-2 py-1 bg-kunyomi text-sky-900 rounded-md shadow-sm"},M(p),1))),128))])):b("",!0)]),r("div",Ze,[r("div",tn,[(i(!0),l(D,null,E(t.word.ru,(p,o)=>(i(),l("span",{key:"ru-"+o,class:"text-text-main font-medium"},M(p),1))),128))]),t.word.tags&&t.word.tags.length>0?(i(),l("div",en,[(i(!0),l(D,null,E(t.word.tags,(p,o)=>(i(),l("span",{key:"tag-"+o,class:"text-xs px-2 py-0.5 bg-stone-100 text-stone-500 rounded-full border border-stone-200"}," #"+M(p),1))),128))])):b("",!0)]),r("div",{class:"ml-5 pl-4 border-l border-stone-100 flex items-center space-x-1"},[r("button",{onClick:a,class:"p-2 text-stone-400 hover:text-primary hover:bg-rose-50 rounded-full transition-colors",title:"Редактировать"},[...g[0]||(g[0]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),r("button",{onClick:d,class:"p-2 text-stone-400 hover:text-danger hover:bg-red-50 rounded-full transition-colors",title:"Удалить"},[...g[1]||(g[1]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])])):(i(),l("div",nn,[r("div",rn,[r("div",sn,[(i(!0),l(D,null,E(t.word.jp,(p,o)=>(i(),l("h3",{key:"jp-full-"+o,class:"font-jp text-3xl font-medium text-text-main tracking-wide"},M(p),1))),128))]),t.word.on||t.word.kun?(i(),l("div",on,[t.word.on&&t.word.on.length>0?(i(),l("div",an,[g[2]||(g[2]=r("span",{class:"text-xs font-bold text-amber-700 uppercase tracking-wider mr-2"},"On",-1)),(i(!0),l(D,null,E(t.word.on,(p,o)=>(i(),l("span",{key:"on-full-"+o,class:"font-jp inline-block text-sm px-3 py-1 bg-onyomi text-amber-900 rounded-md mr-2 shadow-sm"},M(p),1))),128))])):b("",!0),t.word.kun&&t.word.kun.length>0?(i(),l("div",ln,[g[3]||(g[3]=r("span",{class:"text-xs font-bold text-sky-700 uppercase tracking-wider mr-2"},"Kun",-1)),(i(!0),l(D,null,E(t.word.kun,(p,o)=>(i(),l("span",{key:"kun-full-"+o,class:"font-jp inline-block text-sm px-3 py-1 bg-kunyomi text-sky-900 rounded-md mr-2 shadow-sm"},M(p),1))),128))])):b("",!0)])):b("",!0)]),r("div",un,[g[4]||(g[4]=r("h4",{class:"text-sm font-medium text-text-muted mb-2"},"Переводы:",-1)),r("ul",dn,[(i(!0),l(D,null,E(t.word.ru,(p,o)=>(i(),l("li",{key:"ru-full-"+o,class:"text-text-main"},M(p),1))),128))])]),t.word.ex_jp&&t.word.ex_jp.length>0?(i(),l("div",cn,[g[5]||(g[5]=r("h4",{class:"text-sm font-medium text-text-muted mb-2"},"Примеры на японском:",-1)),r("ul",mn,[(i(!0),l(D,null,E(t.word.ex_jp,(p,o)=>(i(),l("li",{key:"ex-jp-"+o,class:"jp-text text-text-main"},M(p),1))),128))])])):b("",!0),t.word.ex_ru&&t.word.ex_ru.length>0?(i(),l("div",fn,[g[6]||(g[6]=r("h4",{class:"text-sm font-medium text-text-muted mb-2"},"Переводы примеров:",-1)),r("ul",pn,[(i(!0),l(D,null,E(t.word.ex_ru,(p,o)=>(i(),l("li",{key:"ex-ru-"+o,class:"text-text-main"},M(p),1))),128))])])):b("",!0),r("div",hn,[r("div",null,[t.word.tags&&t.word.tags.length>0?(i(),l("div",gn,[(i(!0),l(D,null,E(t.word.tags,(p,o)=>(i(),l("span",{key:"tag-full-"+o,class:"text-xs px-3 py-1 bg-stone-100 text-text-muted rounded-full"},M(p),1))),128))])):(i(),l("div",xn," Теги не указаны "))]),r("div",vn,M(f(t.word.updated_at)),1)]),r("div",{class:"mt-4 flex justify-end space-x-3"},[r("button",{onClick:a,class:"px-4 py-2 text-sm font-medium text-primary hover:bg-primary/10 rounded-md transition-colors"}," Редактировать "),r("button",{onClick:d,class:"px-4 py-2 text-sm font-medium text-danger hover:bg-danger/10 rounded-md transition-colors"}," Удалить ")])]))],10,Qe))}},bn={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},wn={class:"relative z-50 bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[70vh] overflow-hidden mx-4"},kn={class:"flex items-center justify-between"},jn={class:"text-lg font-semibold text-text-main font-jp"},Mn={key:0},Cn={key:1},$n={class:"overflow-y-auto max-h-[calc(70vh-8rem)] p-5 bg-surface"},_n={key:0,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"},Sn={class:"flex items-start"},On={class:"text-sm text-red-700 list-disc list-inside"},Tn={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},Wn={class:"space-y-2"},Pn=["onUpdate:modelValue"],Dn=["onClick"],En={class:"space-y-2"},Bn=["onUpdate:modelValue"],Vn=["onClick"],Fn={key:0,class:"space-y-5 pt-4 border-t border-stone-100"},Ln={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},Yn={class:"space-y-2"},An=["onUpdate:modelValue"],In=["onClick"],Nn={class:"space-y-2"},Hn=["onUpdate:modelValue"],Rn=["onClick"],qn={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},zn={class:"space-y-2"},Un=["onUpdate:modelValue"],Qn=["onClick"],Xn={class:"space-y-2"},Gn=["onUpdate:modelValue"],Jn=["onClick"],Kn={key:0,class:"mt-2 flex flex-wrap gap-1.5"},Zn=["onClick"],tr={class:"px-6 py-4 border-t border-stone-100 bg-stone-50 sticky bottom-0"},er={class:"flex justify-end space-x-3"},nr=["disabled"],rr={key:0},sr={key:1},or={__name:"WordFormModal",props:{isOpen:{type:Boolean,default:!1},word:{type:Object,default:null}},emits:["close","saved"],setup(t,{emit:e}){const n=t,s=e,{showSuccess:a,showError:d}=ft(),f=L(!1),c=L(!1),g=L(!1),p=L(""),o=dt({jp:[""],ru:[""],on:[""],kun:[""],ex_jp:[""],ex_ru:[""],tags:[]}),w=dt({}),T=()=>{v(),n.word?(f.value=!0,B(n.word)):f.value=!1},B=m=>{m&&(o.jp=Array.isArray(m.jp)&&m.jp.length?[...m.jp]:[""],o.ru=Array.isArray(m.ru)&&m.ru.length?[...m.ru]:[""],o.on=Array.isArray(m.on)&&m.on.length?[...m.on]:[""],o.kun=Array.isArray(m.kun)&&m.kun.length?[...m.kun]:[""],o.ex_jp=Array.isArray(m.ex_jp)&&m.ex_jp.length?[...m.ex_jp]:[""],o.ex_ru=Array.isArray(m.ex_ru)&&m.ex_ru.length?[...m.ex_ru]:[""],o.tags=Array.isArray(m.tags)&&m.tags.length?[...m.tags]:[],p.value=o.tags.join(", "),(o.on.length>1||o.on[0]&&o.on[0].trim()||o.kun.length>1||o.kun[0]&&o.kun[0].trim()||o.ex_jp.length>1||o.ex_jp[0]&&o.ex_jp[0].trim()||o.tags.length>0)&&(g.value=!0))},v=()=>{o.jp=[""],o.ru=[""],o.on=[""],o.kun=[""],o.ex_jp=[""],o.ex_ru=[""],o.tags=[],p.value="",g.value=!1,Object.keys(w).forEach(m=>delete w[m])};ct(()=>n.isOpen,m=>{m&&T()},{immediate:!0}),ct(()=>n.word,m=>{n.isOpen&&T()});const h=()=>{let m=!0;Object.keys(w).forEach(y=>delete w[y]);const u=o.jp.filter(y=>y.trim()!=="");return u.length===0?(w.jp="Необходимо указать хотя бы одно японское написание",m=!1):[...new Set(u)].length!==u.length&&(w.jp="Японские написания не должны повторяться",m=!1),o.ru.filter(y=>y.trim()!=="").length===0&&(w.ru="Необходимо указать хотя бы один русский перевод",m=!1),m},$=m=>{m==="ex_jp"&&o.ex_jp.length>=3||m==="ex_ru"&&o.ex_ru.length>=3||m==="tags"&&o.tags.length>=5||(m==="jp"||m==="ru"||m==="on"||m==="kun"||m==="ex_jp"||m==="ex_ru")&&o[m].push("")},P=(m,u)=>{o[m].splice(u,1),(m==="on"||m==="kun")&&o[m].length===0&&o[m].push("")},k=m=>{const u=p.value.split(",").map(_=>_.trim()).filter(_=>_!=="").slice(0,5);o.tags=u,m&&m.type==="blur"&&(p.value=u.join(", "))},x=m=>{o.tags.splice(m,1),p.value=o.tags.join(", ")},C=async()=>{if(h()){c.value=!0;try{const m={jp:o.jp.filter(u=>u.trim()!==""),ru:o.ru.filter(u=>u.trim()!==""),on:o.on[0]?o.on.filter(u=>u.trim()!==""):void 0,kun:o.kun[0]?o.kun.filter(u=>u.trim()!==""):void 0,ex_jp:o.ex_jp[0]?o.ex_jp.filter(u=>u.trim()!==""):void 0,ex_ru:o.ex_ru[0]?o.ex_ru.filter(u=>u.trim()!==""):void 0,tags:o.tags.length>0?o.tags:void 0};s("saved",{data:m,isEditing:f.value,word:n.word})}catch{d("Ошибка при сохранении слова")}finally{c.value=!1}}},A=()=>{v(),s("close")};return(m,u)=>(i(),K(z,{name:"modal"},{default:H(()=>[t.isOpen?(i(),l("div",bn,[r("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:A}),r("div",wn,[r("div",{class:I(["px-5 py-3 border-b border-stone-200 sticky top-0 z-10",f.value?"bg-amber-50":"bg-white"])},[r("div",kn,[r("h3",jn,[f.value?(i(),l("span",Mn,"Редактирование")):(i(),l("span",Cn,"Новое слово"))]),r("button",{onClick:A,class:"text-stone-400 hover:text-stone-600 transition-colors p-1"},[...u[8]||(u[8]=[r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])],2),r("div",$n,[Object.keys(w).length>0?(i(),l("div",_n,[r("div",Sn,[u[10]||(u[10]=r("svg",{class:"w-5 h-5 text-danger mt-0.5 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),r("div",null,[u[9]||(u[9]=r("h4",{class:"font-medium text-red-800 mb-1"},"Исправьте следующие ошибки:",-1)),r("ul",On,[(i(!0),l(D,null,E(w,(_,y)=>(i(),l("li",{key:y},M(_),1))),128))])])])])):b("",!0),r("form",{onSubmit:Bt(C,["prevent"]),class:"space-y-5"},[r("div",Tn,[r("div",null,[u[13]||(u[13]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5 font-jp"},[W(" Японский "),r("span",{class:"text-primary"},"*")],-1)),r("div",Wn,[(i(!0),l(D,null,E(o.jp,(_,y)=>(i(),l("div",{key:"jp-"+y,class:"flex items-center space-x-2"},[R(r("input",{"onUpdate:modelValue":F=>o.jp[y]=F,type:"text",class:I(["flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors font-jp text-sm",w.jp?"border-red-300":"border-stone-200"]),placeholder:"Слово/фраза"},null,10,Pn),[[q,o.jp[y]]]),o.jp.length>1?(i(),l("button",{key:0,type:"button",onClick:F=>P("jp",y),class:"p-1.5 text-stone-400 hover:text-danger transition-colors"},[...u[11]||(u[11]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Dn)):b("",!0)]))),128))]),r("button",{type:"button",onClick:u[0]||(u[0]=_=>$("jp")),class:"mt-1.5 text-xs text-primary hover:text-primary/80 flex items-center font-medium"},[...u[12]||(u[12]=[r("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Еще вариант ",-1)])])]),r("div",null,[u[16]||(u[16]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5"},[W(" Русский "),r("span",{class:"text-primary"},"*")],-1)),r("div",En,[(i(!0),l(D,null,E(o.ru,(_,y)=>(i(),l("div",{key:"ru-"+y,class:"flex items-center space-x-2"},[R(r("input",{"onUpdate:modelValue":F=>o.ru[y]=F,type:"text",class:I(["flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors text-sm",w.ru?"border-red-300":"border-stone-200"]),placeholder:"Перевод"},null,10,Bn),[[q,o.ru[y]]]),o.ru.length>1?(i(),l("button",{key:0,type:"button",onClick:F=>P("ru",y),class:"p-1.5 text-stone-400 hover:text-danger transition-colors"},[...u[14]||(u[14]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Vn)):b("",!0)]))),128))]),r("button",{type:"button",onClick:u[1]||(u[1]=_=>$("ru")),class:"mt-1.5 text-xs text-primary hover:text-primary/80 flex items-center font-medium"},[...u[15]||(u[15]=[r("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Еще перевод ",-1)])])])]),r("div",null,[r("button",{type:"button",onClick:u[2]||(u[2]=_=>g.value=!g.value),class:"text-sm text-primary hover:text-primary/80 flex items-center font-medium"},[r("span",null,M(g.value?"Скрыть":"Показать")+" дополнительные поля",1),(i(),l("svg",{class:I(["w-4 h-4 ml-1 transition-transform",{"rotate-180":g.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...u[17]||(u[17]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),N(z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"transform opacity-0 -translate-y-4","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-4"},{default:H(()=>[g.value?(i(),l("div",Fn,[r("div",Ln,[r("div",null,[u[20]||(u[20]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5 font-jp"},[W(" Онъёми "),r("span",{class:"text-xs text-text-muted ml-1"},"(через запятую)")],-1)),r("div",Yn,[(i(!0),l(D,null,E(o.on,(_,y)=>(i(),l("div",{key:"on-"+y,class:"flex items-center space-x-2"},[R(r("input",{"onUpdate:modelValue":F=>o.on[y]=F,type:"text",class:"flex-1 px-3 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors font-jp bg-onyomi/30 text-sm",placeholder:"Онъёми"},null,8,An),[[q,o.on[y]]]),o.on.length>1?(i(),l("button",{key:0,type:"button",onClick:F=>P("on",y),class:"p-1.5 text-stone-400 hover:text-danger transition-colors"},[...u[18]||(u[18]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,In)):b("",!0)]))),128))]),r("button",{type:"button",onClick:u[3]||(u[3]=_=>$("on")),class:"mt-1.5 text-xs text-primary hover:text-primary/80 flex items-center font-medium"},[...u[19]||(u[19]=[r("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Еще вариант ",-1)])])]),r("div",null,[u[23]||(u[23]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5 font-jp"},[W(" Кунъёми "),r("span",{class:"text-xs text-text-muted ml-1"},"(через запятую)")],-1)),r("div",Nn,[(i(!0),l(D,null,E(o.kun,(_,y)=>(i(),l("div",{key:"kun-"+y,class:"flex items-center space-x-2"},[R(r("input",{"onUpdate:modelValue":F=>o.kun[y]=F,type:"text",class:"flex-1 px-3 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors font-jp bg-kunyomi/30 text-sm",placeholder:"Кунъёми"},null,8,Hn),[[q,o.kun[y]]]),o.kun.length>1?(i(),l("button",{key:0,type:"button",onClick:F=>P("kun",y),class:"p-1.5 text-stone-400 hover:text-danger transition-colors"},[...u[21]||(u[21]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Rn)):b("",!0)]))),128))]),r("button",{type:"button",onClick:u[4]||(u[4]=_=>$("kun")),class:"mt-1.5 text-xs text-primary hover:text-primary/80 flex items-center font-medium"},[...u[22]||(u[22]=[r("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Еще вариант ",-1)])])])]),r("div",qn,[r("div",null,[u[26]||(u[26]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5"},[W(" Примеры (JP) "),r("span",{class:"text-xs text-text-muted ml-1"},"(макс. 3)")],-1)),r("div",zn,[(i(!0),l(D,null,E(o.ex_jp,(_,y)=>(i(),l("div",{key:"ex_jp-"+y,class:"flex items-center space-x-2"},[R(r("textarea",{"onUpdate:modelValue":F=>o.ex_jp[y]=F,rows:"2",class:"flex-1 px-3 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors resize-none text-sm",placeholder:"Пример на японском"},null,8,Un),[[q,o.ex_jp[y]]]),o.ex_jp.length>1?(i(),l("button",{key:0,type:"button",onClick:F=>P("ex_jp",y),class:"p-1.5 text-stone-400 hover:text-danger transition-colors self-start"},[...u[24]||(u[24]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Qn)):b("",!0)]))),128))]),o.ex_jp.length<3?(i(),l("button",{key:0,type:"button",onClick:u[5]||(u[5]=_=>$("ex_jp")),class:"mt-1.5 text-xs text-primary hover:text-primary/80 flex items-center"},[...u[25]||(u[25]=[r("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Еще пример ",-1)])])):b("",!0)]),r("div",null,[u[29]||(u[29]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5"},[W(" Примеры (RU) "),r("span",{class:"text-xs text-text-muted ml-1"},"(макс. 3)")],-1)),r("div",Xn,[(i(!0),l(D,null,E(o.ex_ru,(_,y)=>(i(),l("div",{key:"ex_ru-"+y,class:"flex items-center space-x-2"},[R(r("textarea",{"onUpdate:modelValue":F=>o.ex_ru[y]=F,rows:"2",class:"flex-1 px-3 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors resize-none text-sm",placeholder:"Перевод примера"},null,8,Gn),[[q,o.ex_ru[y]]]),o.ex_ru.length>1?(i(),l("button",{key:0,type:"button",onClick:F=>P("ex_ru",y),class:"p-1.5 text-stone-400 hover:text-danger transition-colors self-start"},[...u[27]||(u[27]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Jn)):b("",!0)]))),128))]),o.ex_ru.length<3?(i(),l("button",{key:0,type:"button",onClick:u[6]||(u[6]=_=>$("ex_ru")),class:"mt-1.5 text-xs text-primary hover:text-primary/80 flex items-center"},[...u[28]||(u[28]=[r("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Еще перевод ",-1)])])):b("",!0)])]),r("div",null,[u[30]||(u[30]=r("label",{class:"block text-sm font-medium text-text-main mb-1.5"},[W(" Теги "),r("span",{class:"text-xs text-text-muted ml-1"},"(макс. 5)")],-1)),R(r("input",{"onUpdate:modelValue":u[7]||(u[7]=_=>p.value=_),type:"text",onInput:k,onBlur:k,class:"w-full px-3 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors text-sm",placeholder:"Теги через запятую (например: n5, база, дом)"},null,544),[[q,p.value]]),o.tags.length>0?(i(),l("div",Kn,[(i(!0),l(D,null,E(o.tags,(_,y)=>(i(),l("span",{key:"tag-"+y,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-primary/10 text-primary"},[W(M(_)+" ",1),r("button",{type:"button",onClick:F=>x(y),class:"ml-1.5 text-primary/70 hover:text-primary"}," × ",8,Zn)]))),128))])):b("",!0)])])):b("",!0)]),_:1})],32)]),r("div",tr,[r("div",er,[r("button",{onClick:A,type:"button",class:"px-5 py-2.5 text-text-main hover:text-stone-900 hover:bg-stone-100 rounded-lg transition-colors font-medium"}," Отмена "),r("button",{onClick:C,disabled:c.value,class:I(["px-5 py-2.5 bg-primary hover:bg-primary/90 text-white font-medium rounded-lg transition-colors",c.value?"opacity-50 cursor-not-allowed":""])},[c.value?(i(),l("span",rr,"Сохранение...")):(i(),l("span",sr,M(f.value?"Сохранить изменения":"Добавить слово"),1))],10,nr)])])])])):b("",!0)]),_:1}))}},ar=at(or,[["__scopeId","data-v-989fe88e"]]),ir={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},lr={class:"relative z-50 bg-white rounded-xl shadow-xl w-full max-w-md mx-4 transform transition-all p-6"},ur={class:"text-center"},dr={class:"text-lg leading-6 font-medium text-gray-900 mb-2"},cr={class:"mt-2"},mr={class:"text-sm text-gray-500"},fr={class:"mt-6 flex justify-center space-x-3"},pr={__name:"ConfirmModal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Подтверждение действия"},message:{type:String,default:"Вы уверены, что хотите выполнить это действие? Это действие необратимо."}},emits:["close","confirm"],setup(t){return(e,n)=>(i(),K(z,{name:"modal"},{default:H(()=>[t.isOpen?(i(),l("div",ir,[r("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:n[0]||(n[0]=s=>e.$emit("close"))}),r("div",lr,[r("div",ur,[n[3]||(n[3]=r("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[r("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),r("h3",dr,M(t.title),1),r("div",cr,[r("p",mr,M(t.message),1)]),r("div",fr,[r("button",{type:"button",class:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors",onClick:n[1]||(n[1]=s=>e.$emit("close"))}," Отмена "),r("button",{type:"button",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors shadow-sm",onClick:n[2]||(n[2]=s=>e.$emit("confirm"))}," Удалить ")])])])])):b("",!0)]),_:1}))}},hr=at(pr,[["__scopeId","data-v-1d804403"]]);var gr=typeof global=="object"&&global&&global.Object===Object&&global,xr=typeof self=="object"&&self&&self.Object===Object&&self,Pt=gr||xr||Function("return this")(),ot=Pt.Symbol,Dt=Object.prototype,vr=Dt.hasOwnProperty,yr=Dt.toString,et=ot?ot.toStringTag:void 0;function br(t){var e=vr.call(t,et),n=t[et];try{t[et]=void 0;var s=!0}catch{}var a=yr.call(t);return s&&(e?t[et]=n:delete t[et]),a}var wr=Object.prototype,kr=wr.toString;function jr(t){return kr.call(t)}var Mr="[object Null]",Cr="[object Undefined]",kt=ot?ot.toStringTag:void 0;function $r(t){return t==null?t===void 0?Cr:Mr:kt&&kt in Object(t)?br(t):jr(t)}function _r(t){return t!=null&&typeof t=="object"}var Sr="[object Symbol]";function Or(t){return typeof t=="symbol"||_r(t)&&$r(t)==Sr}var Tr=/\s/;function Wr(t){for(var e=t.length;e--&&Tr.test(t.charAt(e)););return e}var Pr=/^\s+/;function Dr(t){return t&&t.slice(0,Wr(t)+1).replace(Pr,"")}function mt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jt=NaN,Er=/^[-+]0x[0-9a-f]+$/i,Br=/^0b[01]+$/i,Vr=/^0o[0-7]+$/i,Fr=parseInt;function Mt(t){if(typeof t=="number")return t;if(Or(t))return jt;if(mt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Dr(t);var n=Br.test(t);return n||Vr.test(t)?Fr(t.slice(2),n?2:8):Er.test(t)?jt:+t}var ut=function(){return Pt.Date.now()},Lr="Expected a function",Yr=Math.max,Ar=Math.min;function Ir(t,e,n){var s,a,d,f,c,g,p=0,o=!1,w=!1,T=!0;if(typeof t!="function")throw new TypeError(Lr);e=Mt(e)||0,mt(n)&&(o=!!n.leading,w="maxWait"in n,d=w?Yr(Mt(n.maxWait)||0,e):d,T="trailing"in n?!!n.trailing:T);function B(m){var u=s,_=a;return s=a=void 0,p=m,f=t.apply(_,u),f}function v(m){return p=m,c=setTimeout(P,e),o?B(m):f}function h(m){var u=m-g,_=m-p,y=e-u;return w?Ar(y,d-_):y}function $(m){var u=m-g,_=m-p;return g===void 0||u>=e||u<0||w&&_>=d}function P(){var m=ut();if($(m))return k(m);c=setTimeout(P,h(m))}function k(m){return c=void 0,T&&s?B(m):(s=a=void 0,f)}function x(){c!==void 0&&clearTimeout(c),p=0,s=g=a=c=void 0}function C(){return c===void 0?f:k(ut())}function A(){var m=ut(),u=$(m);if(s=arguments,a=this,g=m,u){if(c===void 0)return v(g);if(w)return clearTimeout(c),c=setTimeout(P,e),B(g)}return c===void 0&&(c=setTimeout(P,e)),f}return A.cancel=x,A.flush=C,A}const Nr={class:"mb-8"},Hr={class:"relative mb-4 group z-20"},Rr={class:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1"},qr={key:0,class:"flex items-center px-2"},zr={key:0,class:"relative z-10 mb-6"},Ur={class:"p-6 bg-surface rounded-xl shadow-lg border border-stone-100"},Qr={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4"},Xr={key:0,class:"pt-4 border-t border-stone-100 flex flex-wrap gap-2"},Gr={key:0,class:"inline-flex items-center px-3 py-1 text-xs font-medium bg-stone-100 text-stone-700 rounded-full"},Jr={key:1,class:"inline-flex items-center px-3 py-1 text-xs font-medium bg-onyomi text-amber-900 rounded-full"},Kr={key:2,class:"inline-flex items-center px-3 py-1 text-xs bg-kunyomi text-sky-900 rounded-full"},Zr={__name:"SearchBar",emits:["search","advanced-search"],setup(t,{expose:e,emit:n}){const s=n,a=L(!1),d=L(""),f=L(!1),c=dt({tags:"",on:"",kun:""}),g=Ir(()=>{f.value=!0,s("search",d.value.trim()),setTimeout(()=>{f.value=!1},300)},800),p=()=>{g()},o=()=>{d.value="",s("search","")},w=()=>{const k={};if(c.tags.trim()){const x=c.tags.split(",").map(C=>C.trim()).filter(C=>C!=="");k.tags=x.join(",")}if(c.on.trim()){const x=c.on.split(",").map(C=>C.trim()).filter(C=>C!=="");k.on=x.join(",")}if(c.kun.trim()){const x=c.kun.split(",").map(C=>C.trim()).filter(C=>C!=="");k.kun=x.join(",")}console.log("Search params:",k),s("advanced-search",k)},T=()=>{c.tags="",c.on="",c.kun="",s("advanced-search",{})};ct(d,k=>{k.trim()===""&&T()});const B=nt(()=>c.tags.split(",").map(k=>k.trim()).filter(k=>k!=="")),v=nt(()=>c.on.split(",").map(k=>k.trim()).filter(k=>k!=="")),h=nt(()=>c.kun.split(",").map(k=>k.trim()).filter(k=>k!=="")),$=nt(()=>B.value.length>0||v.value.length>0||h.value.length>0),P=k=>{k==="tags"?c.tags="":k==="on"?c.on="":k==="kun"&&(c.kun=""),w()};return e({clearSearch:o,clearAdvancedFilters:T}),T(),(k,x)=>(i(),l("div",Nr,[r("div",Hr,[x[13]||(x[13]=r("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[r("svg",{class:"h-5 w-5 text-stone-400 group-focus-within:text-primary transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),R(r("input",{"onUpdate:modelValue":x[0]||(x[0]=C=>d.value=C),type:"text",placeholder:"Поиск слова (русский или японский)...",class:"w-full pl-11 pr-32 py-3.5 bg-surface border-none shadow-sm rounded-xl focus:ring-2 focus:ring-primary/50 focus:shadow-lg transition-all duration-300 placeholder-stone-400 text-text-main",onInput:p},null,544),[[q,d.value]]),r("div",Rr,[f.value?(i(),l("div",qr,[...x[8]||(x[8]=[r("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"},null,-1)])])):b("",!0),d.value?(i(),l("button",{key:1,onClick:o,class:"p-2 text-stone-400 hover:text-primary transition-colors rounded-full hover:bg-stone-100",type:"button",title:"Очистить поиск"},[...x[9]||(x[9]=[r("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):b("",!0),x[12]||(x[12]=r("div",{class:"h-6 w-px bg-stone-200 mx-1"},null,-1)),r("button",{onClick:x[1]||(x[1]=C=>a.value=!a.value),class:I(["p-2 transition-all duration-200 rounded-lg flex items-center gap-2",a.value?"bg-primary/10 text-primary":"text-stone-400 hover:text-stone-600 hover:bg-stone-100"]),type:"button",title:"Расширенный поиск"},[x[11]||(x[11]=r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})],-1)),(i(),l("svg",{class:I(["w-3 h-3 transition-transform duration-200",{"rotate-180":a.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...x[10]||(x[10]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2)])]),N(z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"transform opacity-0 -translate-y-2 scale-95","enter-to-class":"transform opacity-100 translate-y-0 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"transform opacity-100 translate-y-0 scale-100","leave-to-class":"transform opacity-0 -translate-y-2 scale-95"},{default:H(()=>[a.value?(i(),l("div",zr,[x[17]||(x[17]=r("div",{class:"absolute right-6 -top-2 w-4 h-4 bg-surface transform rotate-45 border-t border-l border-stone-100"},null,-1)),r("div",Ur,[r("div",Qr,[r("div",null,[x[14]||(x[14]=r("label",{class:"block text-sm font-medium text-text-main mb-2"}," Теги ",-1)),R(r("input",{"onUpdate:modelValue":x[2]||(x[2]=C=>c.tags=C),type:"text",class:"w-full px-4 py-2 bg-stone-50 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-transparent transition-all placeholder-stone-400",placeholder:"Например: n5, глаголs"},null,512),[[q,c.tags]])]),r("div",null,[x[15]||(x[15]=r("label",{class:"block text-sm font-medium text-text-main mb-2"}," Онъёми (катакана) ",-1)),R(r("input",{"onUpdate:modelValue":x[3]||(x[3]=C=>c.on=C),type:"text",class:"w-full px-4 py-2 bg-stone-50 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-transparent transition-all placeholder-stone-400",placeholder:"Например: キ, シ"},null,512),[[q,c.on]])]),r("div",null,[x[16]||(x[16]=r("label",{class:"block text-sm font-medium text-text-main mb-2"}," Кунъёми (хирагана) ",-1)),R(r("input",{"onUpdate:modelValue":x[4]||(x[4]=C=>c.kun=C),type:"text",class:"w-full px-4 py-2 bg-stone-50 border border-stone-200 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-transparent transition-all placeholder-stone-400",placeholder:"Например: つくえ"},null,512),[[q,c.kun]])])]),$.value?(i(),l("div",Xr,[B.value.length>0?(i(),l("span",Gr,[W(" Теги: "+M(B.value.join(", "))+" ",1),r("button",{onClick:x[5]||(x[5]=C=>P("tags")),class:"ml-2 text-stone-500 hover:text-red-500 transition-colors text-sm"},"×")])):b("",!0),v.value.length>0?(i(),l("span",Jr,[W(" On: "+M(v.value.join(", "))+" ",1),r("button",{onClick:x[6]||(x[6]=C=>P("on")),class:"ml-2 text-amber-700 hover:text-red-600 transition-colors text-sm"},"×")])):b("",!0),h.value.length>0?(i(),l("span",Kr,[W(" Кунъёми: "+M(h.value.join(", "))+" ",1),r("button",{onClick:x[7]||(x[7]=C=>P("kun")),class:"ml-2 text-sky-700 hover:text-sky-900 text-sm"},"×")])):b("",!0)])):b("",!0),r("div",{class:"mt-4 flex justify-end space-x-3"},[r("button",{onClick:T,type:"button",class:"px-4 py-2 text-sm text-stone-700 hover:text-stone-900 hover:bg-stone-100 rounded-md transition-colors"}," Сбросить "),r("button",{onClick:w,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary/90 rounded-md transition-colors"}," Применить ")])])])):b("",!0)]),_:1})]))}},ts={key:0,class:"flex items-center justify-between"},es={key:1},Ct={__name:"WordSkeleton",props:{isCompact:{type:Boolean,default:!0}},setup(t){return(e,n)=>(i(),l("div",{class:I(["bg-white rounded-lg border transition-all duration-200",t.isCompact?"p-4":"p-6"])},[t.isCompact?(i(),l("div",ts,[...n[0]||(n[0]=[pt('<div class="flex-1 mr-4"><div class="flex items-center gap-2 mb-1"><div class="h-6 w-16 bg-stone-200 rounded animate-pulse"></div><div class="h-6 w-12 bg-stone-200 rounded animate-pulse"></div></div><div class="flex gap-2 mt-1"><div class="h-4 w-8 bg-stone-100 rounded animate-pulse"></div><div class="h-4 w-10 bg-stone-100 rounded animate-pulse"></div></div></div><div class="flex-1 text-right"><div class="flex justify-end gap-2 mb-1"><div class="h-6 w-20 bg-stone-200 rounded animate-pulse"></div></div><div class="flex justify-end gap-1 mt-1"><div class="h-4 w-10 bg-stone-100 rounded animate-pulse"></div><div class="h-4 w-8 bg-stone-100 rounded animate-pulse"></div></div></div><div class="ml-4 flex items-center space-x-2"><div class="h-8 w-8 bg-stone-100 rounded-full animate-pulse"></div><div class="h-8 w-8 bg-stone-100 rounded-full animate-pulse"></div></div>',3)])])):(i(),l("div",es,[...n[1]||(n[1]=[pt('<div class="mb-4"><div class="h-8 w-24 bg-stone-200 rounded mb-3 animate-pulse"></div><div class="flex gap-2 mb-3"><div class="h-6 w-16 bg-stone-100 rounded animate-pulse"></div><div class="h-6 w-14 bg-stone-100 rounded animate-pulse"></div></div></div><div class="mb-6"><div class="h-4 w-20 bg-stone-200 rounded mb-2 animate-pulse"></div><div class="space-y-1"><div class="h-4 w-full bg-stone-100 rounded animate-pulse"></div><div class="h-4 w-2/3 bg-stone-100 rounded animate-pulse"></div></div></div><div class="flex items-center justify-between pt-4 border-t border-stone-100"><div class="flex gap-2"><div class="h-6 w-12 bg-stone-100 rounded-full animate-pulse"></div><div class="h-6 w-10 bg-stone-100 rounded-full animate-pulse"></div></div><div class="h-4 w-24 bg-stone-100 rounded animate-pulse"></div></div><div class="mt-4 flex justify-end space-x-3"><div class="h-8 w-24 bg-stone-100 rounded animate-pulse"></div><div class="h-8 w-20 bg-stone-100 rounded animate-pulse"></div></div>',4)])]))],2))}},ns=Vt("import",()=>{const t=L(!1),e=L(null),n=L(null);return{isImporting:t,importResult:e,error:n,importCSV:async d=>{var f,c;t.value=!0,n.value=null,e.value=null;try{const g=await Ft.post("/words/import",{content:d});return e.value=g.data.data,{success:!0,data:e.value}}catch(g){return n.value=((c=(f=g.response)==null?void 0:f.data)==null?void 0:c.error)||"Ошибка при импорте",{success:!1,error:n.value}}finally{t.value=!1}},clearImportResult:()=>{e.value=null,n.value=null}}}),rs={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center"},ss={class:"relative z-50 bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden"},os={class:"overflow-y-auto max-h-[calc(90vh-8rem)] p-6"},as={class:"mb-6"},is={class:"text-text-main mb-2"},ls={class:"text-sm text-text-muted"},us={key:0,class:"mt-4 p-4 bg-stone-50 rounded-lg border border-stone-100"},ds={class:"flex items-center justify-between"},cs={class:"flex items-center"},ms={class:"font-medium text-text-main"},fs={class:"text-sm text-text-muted"},ps={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg"},hs={class:"flex items-start"},gs={class:"text-sm text-green-700"},xs={key:0,class:"text-red-600"},vs={key:0,class:"mt-2 text-xs text-red-600 max-h-32 overflow-y-auto bg-red-50 p-2 rounded border border-red-100"},ys={class:"list-disc list-inside"},bs={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"},ws={class:"flex items-start"},ks={class:"text-sm text-red-700"},js={class:"px-6 py-4 border-t border-stone-100 bg-stone-50"},Ms={class:"flex justify-end space-x-3"},Cs=["disabled"],$s={key:0},_s={key:1},Ss={__name:"ImportModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","imported"],setup(t,{emit:e}){const n=e,s=ns(),{showSuccess:a,showError:d}=ft(),f=L(null),c=L(!1),g=v=>{const h=v.target.files[0];h&&w(h)?(f.value=h,v.target.value=""):(d("Пожалуйста, выберите файл с расширением .csv"),v.target.value="")},p=v=>{c.value=!0,v.preventDefault()},o=v=>{c.value=!1,v.preventDefault();const h=v.dataTransfer.files[0];h&&w(h)?f.value=h:d("Пожалуйста, перетащите файл с расширением .csv")},w=v=>{const $=v.name.toLowerCase().endsWith(".csv"),P=v.size<=10*1024*1024,k=!v.type||v.type==="text/csv"||v.type==="application/vnd.ms-excel"||v.type==="text/plain";return $&&P&&k},T=async()=>{if(!f.value){d("Пожалуйста, выберите файл");return}if(!w(f.value)){d("Некорректный файл. Пожалуйста, выберите CSV файл до 10MB");return}const v=new FileReader;v.onload=async h=>{try{const $=h.target.result;if(!$.trim()){d("Файл пуст");return}const P=$.split(`
`).filter(m=>m.trim());if(P.length===0){d("Файл не содержит данных");return}const k=P[0].split(","),x=["jp","ru","on","kun","ex_jp","ex_ru","tags"];!k.some(m=>x.includes(m.trim().toLowerCase()))&&P.length>0&&console.warn("CSV файл не содержит ожидаемых заголовков, но будет обработан");const A=await s.importCSV($);A.success?A.data&&A.data.imported_count>0?(a(`Успешно импортировано ${A.data.imported_count} слов`),n("imported",A.data),setTimeout(()=>{B()},2e3)):showInfo("Нет новых слов для импорта"):d(A.error||"Ошибка при импорте файла")}catch($){console.error("Ошибка при чтении файла:",$),d("Ошибка при чтении файла")}},v.onerror=()=>{d("Ошибка при чтении файла")},v.readAsText(f.value,"UTF-8")},B=()=>{f.value=null,s.clearImportResult(),n("close")};return(v,h)=>(i(),K(z,{name:"modal"},{default:H(()=>[t.isOpen?(i(),l("div",rs,[r("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:B}),r("div",ss,[r("div",{class:"px-6 py-4 border-b border-stone-100 bg-stone-50"},[r("div",{class:"flex items-center justify-between"},[h[4]||(h[4]=r("h3",{class:"text-lg font-semibold text-text-main font-jp"},"Импорт CSV",-1)),r("button",{onClick:B,class:"text-stone-400 hover:text-stone-600 transition-colors p-1"},[...h[3]||(h[3]=[r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),r("div",os,[h[14]||(h[14]=r("div",{class:"mb-6 p-4 bg-stone-50 border border-stone-200 rounded-lg"},[r("h4",{class:"font-medium text-text-main mb-2 font-jp"},"Формат CSV файла:"),r("pre",{class:"text-sm text-text-muted whitespace-pre-wrap font-mono bg-white p-2 rounded border border-stone-100"},`jp,ru,on,kun,ex_jp,ex_ru,tags
机,стол,キ,つくえ,机の上に本があります,На столе лежит книга,n5,мебель
本,книга,ホン,ほん,本を読みます,Читаю книгу,n5`),r("p",{class:"text-sm text-text-muted mt-2"},[W(" • Разделитель: запятая"),r("br"),W(" • Первая строка - заголовки"),r("br"),W(" • Поля с массивами (теги) разделяйте точкой с запятой"),r("br"),W(" • Пустые значения оставляйте пустыми ")])],-1)),r("div",as,[h[8]||(h[8]=r("label",{class:"block text-sm font-medium text-text-main mb-3"}," Выберите CSV файл ",-1)),r("div",{onDragover:p,onDrop:o,onDragleave:h[0]||(h[0]=$=>c.value=!1),class:I(["border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 cursor-pointer",c.value?"border-primary bg-primary/5 scale-[1.02]":f.value?"border-primary/50 bg-primary/5":"border-stone-300 hover:border-primary/50 hover:bg-stone-50"]),onClick:h[1]||(h[1]=$=>v.$refs.fileInput.click())},[(i(),l("svg",{class:I(["w-12 h-12 mx-auto mb-4 transition-colors",f.value||c.value?"text-primary":"text-stone-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...h[5]||(h[5]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"},null,-1)])],2)),r("p",is,[r("span",{class:I(["font-medium",(f.value||c.value,"text-primary")])},M(f.value?"Файл выбран":"Нажмите для загрузки"),3),W(" "+M(f.value?"":"или перетащите файл"),1)]),r("p",ls,M(f.value?`${f.value.name} (${(f.value.size/1024).toFixed(1)} KB)`:"Поддерживаются файлы CSV до 10MB"),1),r("input",{ref:"fileInput",type:"file",accept:".csv,text/csv,application/vnd.ms-excel",onChange:g,class:"hidden"},null,544)],34),f.value?(i(),l("div",us,[r("div",ds,[r("div",cs,[h[6]||(h[6]=r("svg",{class:"w-5 h-5 text-stone-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),r("div",null,[r("p",ms,M(f.value.name),1),r("p",fs,M((f.value.size/1024).toFixed(2))+" KB ",1)])]),r("button",{onClick:h[2]||(h[2]=$=>f.value=null),class:"text-stone-400 hover:text-stone-600"},[...h[7]||(h[7]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):b("",!0)]),S(s).importResult?(i(),l("div",ps,[r("div",hs,[h[11]||(h[11]=r("svg",{class:"w-5 h-5 text-green-500 mt-0.5 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),r("div",null,[h[10]||(h[10]=r("h4",{class:"font-medium text-green-800 mb-1"},"Импорт успешно завершен",-1)),r("p",gs,[W(" Добавлено слов: "+M(S(s).importResult.imported_count||0),1),h[9]||(h[9]=r("br",null,null,-1)),S(s).importResult.failed_count>0?(i(),l("span",xs," Ошибок: "+M(S(s).importResult.failed_count),1)):b("",!0)]),S(s).importResult.errors&&S(s).importResult.errors.length>0?(i(),l("div",vs,[r("ul",ys,[(i(!0),l(D,null,E(S(s).importResult.errors,($,P)=>(i(),l("li",{key:P},M($),1))),128))])])):b("",!0)])])])):b("",!0),S(s).error?(i(),l("div",bs,[r("div",ws,[h[13]||(h[13]=r("svg",{class:"w-5 h-5 text-red-500 mt-0.5 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),r("div",null,[h[12]||(h[12]=r("h4",{class:"font-medium text-red-800 mb-1"},"Ошибка при импорте",-1)),r("p",ks,M(S(s).error),1)])])])):b("",!0)]),r("div",js,[r("div",Ms,[r("button",{onClick:B,type:"button",class:"px-5 py-2.5 text-text-muted hover:text-text-main hover:bg-stone-100 rounded-lg transition-colors font-medium"}," Отмена "),r("button",{onClick:T,disabled:!f.value||S(s).isImporting,class:I(["px-5 py-2.5 bg-primary hover:bg-primary/90 text-white font-medium rounded-lg transition-colors",!f.value||S(s).isImporting?"opacity-50 cursor-not-allowed":""])},[S(s).isImporting?(i(),l("span",$s,[...h[15]||(h[15]=[r("svg",{class:"w-4 h-4 inline-block animate-spin mr-2",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),W(" Импорт... ",-1)])])):(i(),l("span",_s,"Импортировать"))],10,Cs)])])])])):b("",!0)]),_:1}))}},Os=at(Ss,[["__scopeId","data-v-9a80c6dd"]]),Ts={class:"text-center py-16 px-4"},Ws={class:"mb-6 relative inline-block"},Ps={class:"absolute inset-0 flex items-center justify-center"},Ds={class:"text-xl font-medium text-text-main mb-2 font-jp tracking-wide"},Es={class:"text-text-muted mb-8 max-w-md mx-auto"},Bs={__name:"EmptyState",props:{title:{type:String,default:"Здесь пока пусто"},description:{type:String,default:"Список пуст. Самое время добавить что-то новое."}},setup(t){return(e,n)=>(i(),l("div",Ts,[r("div",Ws,[n[1]||(n[1]=r("svg",{class:"w-32 h-32 mx-auto text-stone-200",viewBox:"0 0 100 100",fill:"none",stroke:"currentColor"},[r("path",{d:"M50 10 C 20 10 10 30 10 50 C 10 80 30 90 50 90 C 80 90 90 70 90 50","stroke-width":"3","stroke-linecap":"round","stroke-dasharray":"10 5",opacity:"0.5"}),r("circle",{cx:"50",cy:"50",r:"15",class:"text-primary/20",fill:"currentColor",stroke:"none"})],-1)),r("div",Ps,[ht(e.$slots,"icon",{},()=>[n[0]||(n[0]=r("svg",{class:"w-12 h-12 text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1))])])]),r("h3",Ds,M(t.title),1),r("p",Es,M(t.description),1),ht(e.$slots,"action")]))}},Vs={class:"max-w-5xl mx-auto"},Fs={class:"mb-8"},Ls={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6"},Ys={key:"count",class:"text-base mt-1 font-medium flex items-center gap-2"},As={class:"text-primary font-bold"},Is={key:"empty",class:"h-5"},Ns={class:"flex items-center gap-3"},Hs={class:"hidden sm:flex items-center bg-stone-100/80 p-1 rounded-xl shadow-inner mr-2"},Rs={key:0,class:"mb-6 p-4 bg-red-50 border border-red-100 rounded-xl shadow-sm"},qs={class:"flex items-center"},zs={class:"text-danger font-medium"},Us={key:0,class:"space-y-4"},Qs={key:0},Xs={key:0,class:"mt-6"},Gs={key:0,class:"mt-6 text-center"},Js={key:0,class:"mt-6 pt-6 border-t text-center"},Ks={__name:"HomeView",setup(t){const e=At(),{showSuccess:n,showError:s}=ft(),a=L(null),d=L(!0),f=L(!1),c=L(!1),g=L(!1),p=L(null),o=L(null),w=L(""),T=L(!1),B=nt(()=>e.loading?"Загрузка...":T.value?w.value?`По запросу "${w.value}" ничего не найдено. Попробуйте изменить запрос или проверить написание.`:"Ничего не найдено по заданным критериям. Попробуйте смягчить фильтры.":"Ваш словарь пока пуст. Добавьте первые слова, чтобы начать изучение."),v=()=>{if(T.value||e.loading||!e.hasMore)return;const V=window.innerHeight+window.scrollY,j=document.documentElement.offsetHeight-100;V>=j&&$()},h=()=>{e.fetchWords(20,!0)},$=()=>{e.fetchWords()},P=async V=>{w.value=V,T.value=V.trim().length>0,V.trim()?await e.searchWords({q:V}):(T.value=!1,e.fetchWords(20,!0))},k=async V=>{const j=Object.values(V).some(Y=>Array.isArray(Y)&&Y.length>0||typeof Y=="string"&&Y.trim().length>0);T.value=j,w.value="",j?await e.searchWords(V):e.fetchWords(20,!0)},x=()=>{a.value&&(a.value.clearSearch(),a.value.clearAdvancedFilters()),w.value="",T.value=!1,a.value||e.fetchWords(20,!0)},C=()=>{p.value=null,f.value=!0},A=V=>{V&&(p.value=JSON.parse(JSON.stringify(V)),f.value=!0)},m=V=>{o.value=V,g.value=!0},u=()=>{g.value=!1,o.value=null},_=async()=>{if(o.value)try{const V=await e.deleteWord(o.value);V.success?n("Слово успешно удалено"):s(V.error||"Ошибка при удалении слова")}catch{s("Ошибка при удалении слова")}finally{u()}},y=async V=>{try{const j=!!p.value,Y=j?await e.updateWord(p.value.id,V.data):await e.createWord(V.data);Y.success?(n(j?"Слово успешно обновлено":"Слово успешно добавлено"),F()):s(Y.error)}catch{s("Ошибка при сохранении слова")}},F=()=>{f.value=!1,p.value=null};return $t(()=>{It({onNewWord:()=>{f.value||C()},onCloseModals:()=>{(f.value||c.value)&&(f.value=!1,c.value=!1)}}),e.words.length===0&&e.fetchWords(),window.addEventListener("scroll",v)}),_t(()=>{window.removeEventListener("scroll",v)}),(V,j)=>(i(),l("div",Vs,[r("div",Fs,[r("div",Ls,[r("div",null,[j[5]||(j[5]=r("h2",{class:"text-3xl font-bold text-text-main font-jp"},"Мой словарь",-1)),N(z,{name:"fade-slide",mode:"out-in"},{default:H(()=>[S(e).totalCount>0||S(e).words.length>0?(i(),l("p",Ys,[j[4]||(j[4]=r("span",{class:"text-stone-500"},"Всего слов:",-1)),r("span",As,M(S(e).totalCount),1)])):(i(),l("div",Is))]),_:1})]),r("div",Ns,[r("div",Hs,[r("button",{onClick:j[0]||(j[0]=Y=>d.value=!1),class:I(["p-2 rounded-lg transition-all duration-200 flex items-center justify-center",d.value?"text-stone-400 hover:text-stone-600":"bg-white text-primary shadow-sm"]),title:"Полный вид"},[...j[6]||(j[6]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2),r("button",{onClick:j[1]||(j[1]=Y=>d.value=!0),class:I(["p-2 rounded-lg transition-all duration-200 flex items-center justify-center",d.value?"bg-white text-primary shadow-sm":"text-stone-400 hover:text-stone-600"]),title:"Компактный вид"},[...j[7]||(j[7]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)]),r("button",{onClick:j[2]||(j[2]=Y=>c.value=!0),class:"w-32 justify-center px-4 py-2 bg-secondary hover:bg-secondary/90 text-white font-medium rounded-xl transition duration-200 hover:shadow-lg shadow-md flex items-center transform-gpu hover:-translate-y-0.5"},[...j[8]||(j[8]=[r("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1),W(" Импорт ",-1)])]),r("button",{onClick:C,class:"w-32 justify-center px-4 py-2 bg-primary hover:bg-primary/90 text-white font-medium rounded-xl transition duration-200 hover:shadow-lg shadow-md flex items-center transform-gpu hover:-translate-y-0.5"},[...j[9]||(j[9]=[r("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Добавить ",-1)])])])]),N(Zr,{onSearch:P,onAdvancedSearch:k})]),N(z,{name:"fade"},{default:H(()=>[S(e).error?(i(),l("div",Rs,[r("div",qs,[j[10]||(j[10]=r("svg",{class:"w-5 h-5 text-danger mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),r("span",zs,M(S(e).error),1)])])):b("",!0)]),_:1}),S(e).loading&&S(e).words.length===0?(i(),l("div",Us,[(i(),l(D,null,E(5,Y=>N(Ct,{key:"skeleton-"+Y,"is-compact":d.value},null,8,["is-compact"])),64))])):b("",!0),N(z,{name:"fade"},{default:H(()=>[!S(e).loading&&(!S(e).words||S(e).words.length===0)?(i(),l("div",Qs,[N(Bs,{title:T.value?"Ничего не найдено":"Словарь пуст",description:B.value},Yt({_:2},[T.value?{name:"action",fn:H(()=>[r("button",{onClick:x,class:"px-6 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200"}," Сбросить поиск ")]),key:"1"}:{name:"action",fn:H(()=>[r("button",{onClick:C,class:"px-6 py-3 bg-primary hover:bg-primary/90 text-white font-medium rounded-lg transition-all duration-200 hover:shadow-lg shadow-md flex items-center mx-auto transform hover:-translate-y-0.5"},[...j[11]||(j[11]=[r("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),W(" Добавить первое слово ",-1)])])]),key:"0"}]),1032,["title","description"])])):b("",!0)]),_:1}),N(Lt,{name:"word-list",tag:"div",class:"words-list space-y-4"},{default:H(()=>[(i(!0),l(D,null,E(S(e).words,Y=>(i(),K(yn,{key:Y.id,word:Y,"is-compact-view":d.value,onEdit:Et=>A(Y),onDelete:Et=>m(Y.id)},null,8,["word","is-compact-view","onEdit","onDelete"]))),128))]),_:1}),N(z,{name:"fade"},{default:H(()=>[S(e).loading&&S(e).words.length>0?(i(),l("div",Xs,[(i(),l(D,null,E(3,Y=>N(Ct,{key:"skeleton-more-"+Y,"is-compact":d.value},null,8,["is-compact"])),64))])):b("",!0)]),_:1}),N(z,{name:"fade"},{default:H(()=>[!S(e).loading&&S(e).hasMore?(i(),l("div",Gs,[r("button",{onClick:$,class:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium rounded-lg transition-all duration-200 hover:shadow-sm"}," Загрузить еще ")])):b("",!0)]),_:1}),N(z,{name:"fade"},{default:H(()=>[!S(e).hasMore&&S(e).words.length>0?(i(),l("div",Js,[...j[12]||(j[12]=[r("p",{class:"text-gray-500"},"Вы просмотрели все слова в словаре",-1)])])):b("",!0)]),_:1}),f.value?(i(),K(ar,{key:1,word:p.value,onClose:F,onSaved:y,"is-open":f.value},null,8,["word","is-open"])):b("",!0),N(hr,{"is-open":g.value,title:"Удалить слово?",message:"Вы уверены, что хотите удалить это слово? Это действие нельзя будет отменить.",onClose:u,onConfirm:_},null,8,["is-open"]),c.value?(i(),K(Os,{key:2,onClose:j[3]||(j[3]=Y=>c.value=!1),onImported:h,"is-open":c.value},null,8,["is-open"])):b("",!0)]))}},eo=at(Ks,[["__scopeId","data-v-f72dc7d0"]]);export{eo as default};
