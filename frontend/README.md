# Фронтенд проекта jp-ru-dict (p≧w≦q)

Фронтенд часть приложения для личного русско-японского словаря.

## Инструкция по запуску

### Требования

- Node.js 18+ или Docker;
- запущенный бэкенд (см. [Бэкенд проекта jp-ru-dict](../backend/README.md "Бэкенд проекта jp-ru-dict")).

### Разработка

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev

# Сборка для production
npm run build

# Предпросмотр production сборки
npm run preview
```

### Docker

```bash
# Сборка образа
docker build -t jp-ru-dict-frontend .

# Запуск контейнера
docker run -p 5173:80 jp-ru-dict-frontend
```

## Архитектура

```md
frontend/
├── src/
│   ├── api/                       # API-клиент (Axios)
│   ├── components/                # Компоненты
│   │   ├── AppHeader.vue          # Хедер
│   │   ├── WordCard.vue           # Карточка слова
│   │   ├── WordFormModal.vue      # Форма создания/редактирования
│   │   ├── SearchBar.vue          # Компонент поиска
│   │   ├── LoadingSpinner.vue     # Индикатор загрузки
│   │   └── ToastContainer.vue     # Уведомления
│   ├── composables/               # Логика
│   │   └── useToast.js            # Система уведомлений
│   ├── router/                    # Маршрутизация
│   │   └── index.js               # Конфигурация Vue Router
│   ├── stores/                    # Управление состоянием (Pinia)
│   │   ├── auth.js                # Аутентификация
│   │   └── words.js               # Работа со словами
│   ├── styles/                    # Глобальные стили
│   │   └── tailwind.css           # Tailwind CSS
│   ├── views/                     # Страницы приложения
│   │   ├── HomeView.vue           # Главная страница
│   │   ├── LoginView.vue          # Вход
│   │   ├── RegisterView.vue       # Регистрация
│   │   └── NotFoundView.vue       # 404
│   ├── App.vue                    # Корневой компонент
│   └── main.js                    # Точка входа
├── public/                        # Статические файлы
├── index.html                     # HTML-шаблон
└── package.json                   # Зависимости и скрипты
```

## Технический стек

### Основные технологии

- Vue.js 3;
- Vite;
- Tailwind CSS;
- Pinia;
- Vue Router (маршрутизация);
- Axios (HTTP-клиент)

### Утилиты

- VueUse (коллекция композаблов);
- Lodash-es (работа с данными).

### Контейнеризация

- Docker + Nginx прода

## Особенности интерфейса

### Цветовая схема

| Элемент | Цвет | Код |
| --- | --- | --- |
| **Основной текст** | Черный | #000000 |
| **Фон** | Тёплый белый | #F8F8F8 |
| **Онъёми** | Пастельный жёлтый | #F9E79F |
| **Кунъёми** | Пастельный голубой | #A2C2E0 |
| **Primary** | Синий | #3B82F6 |

### Типографика

- **Основной шрифт:** Roboto (английский, русский);
- **Японский шрифт:** Системные шрифты (Hiragino Sans, Yu Gothic, Meiryo).

## Основные функции

### Аутентификация

- Регистрация с email и паролем;
- Вход/выход;
- Сохранение JWT токена в localStorage;
- Защищенные маршруты;
- Автоматическое обновление токена.

### Управление словами

- Просмотр списка слов с пагинацией;
- Создание новых слов;
- Редактирование существующих слов;
- Удаление слов с подтверждением;
- Компактный/развернутый вид карточек.

### Поиск и фильтрация

- Основной поиск по японскому/русскому;
- Дебаунс 500ms для поиска;
- Расширенный поиск по тегам и чтениям;
- Курсорная пагинация.

### Пользовательский опыт

- Toast-уведомления;
- Индикаторы загрузки;
- Валидация форм;
- Подтверждение действий;
- Адаптивный дизайн.

## Интеграция с бэкендом

### Настройка API

```env
VITE_API_URL=http://localhost:8080/api
```

### Авторизация

- JWT-токен автоматически добавляется в заголовки запросов;
- Токен сохраняется в localStorage;
- При 401 ошибке - автоматический выход и перенаправление на страницу входа.

### Форматы данных

```javascript
// Пример слова
{
  "id": 1,
  "jp": ["机", "つくえ"],
  "ru": ["стол", "парта"],
  "on": ["き"],
  "kun": ["つくえ"],
  "ex_jp": ["机の上に本がある"],
  "ex_ru": ["На столе лежит книга"],
  "tags": ["n5", "дом"]
}
```

## Известные проблемы

### Критические

- **Отображение списка слов** - некорректное позиционирование элементов;
- **Формы валидации** - не все поля правильно валидируются;
- **Мобильная верстка** - требуется доработка адаптивности.

### Средней важности

- **Анимации** - требуется добавление плавных переходов;
- **Поиск** - расширенный поиск работает нестабильно;
- **Уведомления** - иногда появляются в неправильном месте.

### Мелкие

- **Типографика** - не везде правильно применяются шрифты;
- **Цвета** - требуется корректировка цветовой схемы;
- **Иконки** - не все иконки соответствуют дизайну.

## Задачи для доработки

### Приоритет 1 (Критично)

- Исправить отображение списка слов;
- Улучшить валидацию форм;
- Доработать адаптивную верстку;
- Исправить работу расширенного поиска.

### Приоритет 2 (Важно)

- Добавить плавные анимации;
- Улучшить систему уведомлений;
- Оптимизировать загрузку изображений;
- Добавить ленивую загрузку компонентов.

### Приоритет 3 (Улучшения)

- Добавить темную тему;
- Реализовать drag-and-drop для слов;
- Добавить экспорт/импорт словаря;
- Интегрировать с текстовым редактором для примеров.

## Развертывание

### Production сборка

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

### Docker сборка

```bash
# Сборка
docker build -t jp-ru-dict-frontend .

# Запуск
docker run -d -p 80:80 --name jp-ru-dict-frontend jp-ru-dict-frontend
```

### Nginx-конфигурация

см. [Конфигурация Nginx](./nginx.conf "Nginx-конфигурация")

## Лицензия

Проект под распространяется под лицензией [MIT](../LICENCE)
